你是一位资深的代码审查工程师和测试专家。请对下面的代码进行全面审查和测试。

---

**SRS 文档:**

{{SRS}}

---

**代码集合:**

{{CODE_BUNDLE}}

---

**审查任务:**

1. **静态代码审查:**
   - 语法错误检查
   - 代码风格一致性
   - 潜在的 bug 和逻辑错误
   - 安全漏洞 (SQL 注入, XSS, 路径遍历等)
   - 性能问题 (内存泄漏, 低效算法等)

2. **架构审查:**
   - 是否符合 SOLID 原则
   - 模块职责是否清晰
   - 依赖关系是否合理
   - 是否存在代码重复

3. **功能完整性:**
   - 是否实现了 SRS 中的所有功能需求
   - 是否满足非功能需求 (性能、安全等)
   - 边界条件处理是否完善
   - 错误处理是否适当

4. **生成测试:**
   - 为关键功能生成单元测试
   - 提供测试运行命令
   - 如果可能,模拟执行测试并报告结果

---

**输出格式要求:**

请返回标准 JSON 格式:

```json
{
  "passed": true/false,
  "results": [
    "审查结果摘要 1",
    "审查结果摘要 2"
  ],
  "defects": [
    {
      "severity": "high/medium/low",
      "category": "security/performance/logic/style",
      "file": "受影响的文件路径",
      "description": "详细的缺陷描述",
      "recommendation": "修复建议"
    }
  ],
  "tests": {
    "files": [
      {
        "path": "测试文件路径",
        "content": "测试代码内容"
      }
    ],
    "run_command": "运行测试的命令 (如 pytest, npm test 等)",
    "expected_result": "预期的测试结果说明"
  }
}
```

**评分标准:**

- `passed: true` - 代码质量高,没有严重缺陷,可以直接使用
- `passed: false` - 存在需要修复的缺陷

**注意事项:**

- 严重缺陷 (high severity) 必须导致 `passed: false`
- 如果缺陷较多 (>5个中等以上缺陷),建议 `passed: false`
- 请提供具体的修复建议,而不是泛泛而谈
- 测试代码应该可以直接运行

请开始审查:
